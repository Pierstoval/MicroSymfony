{% extends 'base.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    <script type="module" src="{{ asset('js/stimulus.js') }}" defer></script>
{% endblock %}

{% block body %}
    <div class="sub-heading">
        <h2>Some cool and simple JavaScript with Stimulus ðŸª¢</h2>
    </div>

    <p>...without the JS tooling stuff and complexity.</p>

    <p>We use the new  <a target="_blank" href="https://github.com/symfony/asset-mapper">
            Symfony 6.3 asset mapper component</a>.</p>

    <p>Check out the feature intruction on the <a target="_blank" href="https://symfony.com/blog/new-in-symfony-6-3-assetmapper-component">
            Symfony blog</a>.</p>

    <card>
        <grid>
            <div col="1/4">
                <h3>Demo: form+dialog</h3>
            </div>
            <div col="3/4">
                <div data-controller="hello">
                    <form data-hello-target="form">
                        <label for="name">Enter your name below and click on the <tag>Great</tag> button
                            <input name="name" required data-hello-target="name" type="text" />
                        </label>

                        <input type="submit" primary data-action="click->hello#greet:prevent" value="Great" />
                    </form>

                    <dialog data-hello-target="dialog">
                        <card>
                            <h2 data-hello-target="greating"></h2>
                            <form method="dialog">
                                <menu>
                                    <button data-action="click->hello#reset">Close</button>
                                </menu>
                            </form>
                        </card>
                    </dialog>
                </div>
            </div>
        </grid>
    </card>

    <card>
        <grid>
            <div col="1/4">
                <h3>Demo: ajax call to API endpoint</h3>
            </div>

            <div col="3/4">
                <div data-controller="api"
                     data-api-url-value="{{ path('app_slugifyacfion') }}"
                >
                    <label for="title">Enter a blog post title below
                        <input name="title" required data-api-target="title" data-action="api#slugify" type="text" />
                    </label>

                    <label for="slug">
                        Slug (readonly):
                        <input name="slug" data-api-target="slug" type="text" readonly />
                    </label>
                </div>
            </div>
        </grid>
    </card>
{% endblock %}
